$(document).ready(function(){var t,e=$("#inputName").val();function s(a){(64<a.length||a.length<8)&&(t="Minimum password length 8 characters, maximum - 64!\n")}function o(a){$(".alert-danger").empty().append(a),$(".alert-danger").fadeIn()}function u(){t="",$(".alert-danger").fadeOut()}function c(a,n,e,r){$.ajax({url:a,method:n,data:e,cache:!1}).done(function(a){var n=JSON.parse(a);n.error?o(n.error):r()})}$("#userdataChange").submit(function(){u();var a=$("#inputName").val();if(e===a)return!1;!function(a){(-1==a.search(/^[a-zA-Zа-яА-Я]/g)||32<a.length||a.length<2)&&(t="Only letters are available! From 2 to 32 characters.\n")}(a);var n="operation=userdataChange&username="+a;return t?o(t):c("/profile","POST",n,function(){swal({title:"Your data has been successfully changed!",icon:"success"}),e=a}),!1}),$("#passwordChange").submit(function(){u();var a=$("#inputPassword1").val(),n=$("#inputPassword2").val(),e=$("#inputPassword3").val();s(a),s(n),function(a,n){a!==n&&(t="Passwords don't coincide!\n")}(n,e);var r="operation=passwordChange&oldpassword="+a+"&password="+n+"&password_repeat="+e;return t?o(t):c("/profile","POST",r,function(){swal({title:"Success",text:"Password successfully changed!",icon:"success"})}),!1})});